{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/bcgov/inclusive-names-service/blob/main/docs/schemas/",
  "title": "Person Name",
  "description": "The name of a person.",
  "type": "object",
  "properties": {
    "alias": {
      "description": "Another name that the person is known by. This might be a nickname, former name, or a name that the person is also known as (aka).",
      "type": "array",
      "items": {
        "type": "object",
        "unevaluatedProperties": false,
        "anyOf": [
           {
             "required": [
               "pnFullNameAlias"
             ]
           },
           {
             "required": [
              "pnLastNameAlias"
             ]
           } 
        ],
        "properties": {
          "pnFullNameAlias": {
            "$ref": "#/$defs/NameValue",
            "description": "The full name of the person"
          },
          "pnFirstNameAlias": {
            "$ref": "#/$defs/NameValue",
            "description": "The first name of the person; this may consist of more than one word "
          },
          "pnGivenNamesAlias": {
            "$ref": "#/$defs/NameValue",
            "description": "The parts of the full name that preceed the last name"
          },
          "pnLastNameAlias": {
            "$ref": "#/$defs/NameValue",
            "description": "The last name of the person; this may consist of more than one word "
          },
		  "pnMiddleNamesAlias": {
            "$ref": "#/$defs/NameValue",
            "description": "Middle or additional names supplied between the First name and Last name, separated by spaces "
          }
        }
     }
    },
    "previous": {
      "description": "A name that the person has used in the past.",
      "type": "array",
      "items": {
        "type": "object",
        "unevaluatedProperties": false,
        "anyOf": [
           {
             "required": [
               "pnFullNamePrevious"
             ]
           },
           {
             "required": [
              "pnLastNamePrevious"
             ]
           } 
        ],
        "properties": {
          "pnFullNamePrevious": {
            "$ref": "#/$defs/NameValue",
            "description": "The full name of the person"
          },
          "pnFirstNamePrevious": {
            "$ref": "#/$defs/NameValue",
            "description": "The first name of the person; this may consist of more than one word "
          },
          "pnGivenNamesPrevious": {
            "$ref": "#/$defs/NameValue",
            "description": "The parts of the full name that preceed the last name"
          },
          "pnLastNamePrevious": {
            "$ref": "#/$defs/NameValue",
            "description": "The last name of the person; this may consist of more than one word "
          },
          "pnMiddleNamesPrevious": {
            "$ref": "#/$defs/NameValue",
            "description": "Middle or additional names supplied between the First name and Last name, separated by spaces "
          }
        }
      }
    },
    "legal": {
      "description": "A name that identifies the person for legal, administrative and other official purposes. A personâ€™s legal name will usually be the one that is found on foundational data sources (e.g., birth certificate). To support data exchange with non-Unicode downstream systems, the legal name characters are restricted to A-Z, a-Z, quote, space, and dash",
      "type": "object",
      "unevaluatedProperties": false,
      "anyOf": [
         {
           "required": [
             "pnFullNameLegal"
           ]
         },
         {
           "required": [
            "pnLastNameLegal"
           ]
         } 
      ],
      "properties": {
        "pnFullNameLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The full name of the person"
        },
        "pnFirstNameLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The first name of the person; this may consist of more than one word "
        },
        "pnGivenNamesLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The parts of the full name that preceed the last name"
        },
        "pnLastNameLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The last name of the person; this may consist of more than one word "
        },
        "pnMiddleNamesLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "Middle or additional names supplied between the First name and Last name, separated by spaces "
        }
      }
	},
    "wholelegal": {
      "description": "A name that identifies the person for legal, administrative and other official purposes. This person name type is used for people with Indigenous language names, possibly containing Unicode characters not found in ASCII. ",
      "type": "object",
      "unevaluatedProperties": false,
      "anyOf": [
         {
           "required": [
             "pnFullNameWholeLegal"
           ]
         },
         {
           "required": [
            "pnLastNameWholeLegal"
           ]
         } 
      ],
      "properties": {
        "pnFullNameWholeLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The full name of the person"
        },
        "pnFirstNameWholeLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The first name of the person; this may consist of more than one word "
        },
        "pnGivenNamesWholeLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The parts of the full name that preceed the last name"
        },
        "pnLastNameWholeLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "The last name of the person; this may consist of more than one word "
        },
        "pnMiddleNamesWholeLegal": {
          "$ref": "#/$defs/NameValue",
          "description": "Middle or additional names supplied between the First name and Last name, separated by spaces "
        }
      }
    },
    "preferred": {
      "description": "The name by which a person prefers to be addressed. This could be either the legal name or an alias.",
      "type": "object",
      "unevaluatedProperties": false,
      "anyOf": [
         {
           "required": [
             "pnFullNamePreferred"
           ]
         },
         {
           "required": [
            "pnFirstNamePreferred"
           ]
         } 
      ],
      "properties": {
        "pnFullNamePreferred": {
          "$ref": "#/$defs/NameValue",
          "description": "The full name of the person"
        },
        "pnFirstNamePreferred": {
          "$ref": "#/$defs/NameValue",
          "description": "The first name of the person; this may consist of more than one word "
        }
      }
    }
  },
  "uniqueItems": true,
  "$comment": "must not include any other properties",
  "unevaluatedProperties": false,
  "$comment": "and must have at least one type of name",
  "anyOf": [
    {
      "required": [
        "alias"
      ]
    },
    {
      "required": [
        "previous"
      ]
    },
    {
      "required": [
        "legal"
      ]
    },
    {
      "required": [
        "preferred"
      ]
    },
     {
      "required": [
        "wholelegal"
      ]
    }
 ],
  "$defs": {
    "NameValue": {
      "type": "string",
      "maxLength": 200
    },
    "ShortNameValue": {
      "type": "string",
      "maxLength": 10
     },
    "DateValue": {
      "type": "string",
      "format": "date"
   }
  }
}